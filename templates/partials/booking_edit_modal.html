<!-- Edit Booking Modal with Overlay -->
<div id="editBookingOverlay" class="modal-overlay" aria-hidden="true">
  <div id="editBookingModal" class="modal-card" role="dialog" aria-modal="true" aria-labelledby="editBookingTitle">
    <div class="modal-header">
      <h2 id="editBookingTitle">Edit booking</h2>
      <button type="button" class="modal-close-btn" id="closeEditBookingModal" aria-label="Close">
        <span class="gradient"></span>
        <span class="label">&times;</span>
        <span class="transition"></span>
      </button>
    </div>

    <form id="editBookingForm" method="post" class="st-form-vertical">
      <input type="hidden" name="booking_id" id="edit-booking-id">

      <div class="st-form-row">
        <label for="edit-name">
          Guest name
          <input type="text" name="name" id="edit-name" class="st-input" required>
        </label>
      </div>

      <div class="form-group">
        <label for="edit_phone">Phone number</label>
        <input type="tel"
               class="form-control"
               id="edit_phone"
               name="phone"
               placeholder="+47 123 45 678">
      </div>

      <div class="st-form-row">
        <label for="edit-party-size">
          Party size
          <input type="number" name="party_size" id="edit-party-size" class="st-input" min="1" required>
        </label>
      </div>

      <div class="st-form-row">
        <label>Tables</label>
        <div class="table-pill-group">
          {% for table in tables %}
          <label class="table-pill">
            <input type="checkbox" class="table-checkbox" name="table_ids" value="{{ table.id }}">
            <span>{{ table.name or ("Table " ~ table.id) }}</span>
          </label>
          {% endfor %}
        </div>
        <small class="form-text text-muted" style="font-size: 0.75rem; color: var(--stl-gray); margin-top: 0.25rem; display: block;">
          Select one or more tables.
        </small>
      </div>

      <div class="st-form-row">
        <label for="edit-date">
          Date
          <input type="date" name="date" id="edit-date" class="st-input" required
                 min="{{ today.isoformat() }}" max="{{ max_booking_date.isoformat() }}">
        </label>
      </div>

      <div class="st-form-row st-form-row-2">
        <label for="edit-start-time">
          Start time
          <input type="time" name="start_time" id="edit-start-time" class="st-input" required>
        </label>

        <label for="edit-end-time">
          End time
          <input type="time" name="end_time" id="edit-end-time" class="st-input" required>
        </label>
      </div>

      <div class="st-form-row">
        <label for="edit-notes">
          Notes
          <textarea name="notes" id="edit-notes" class="st-textarea" rows="3"></textarea>
        </label>
      </div>

      <div class="st-modal-footer">
        <button type="button" class="st-button st-button-ghost" id="cancelEditBooking">
          <span class="gradient"></span>
          <span class="label">Cancel</span>
          <span class="transition"></span>
        </button>
        <button type="submit" class="st-button st-button-primary">
          <span class="gradient"></span>
          <span class="label">Save changes</span>
          <span class="transition"></span>
        </button>
      </div>
    </form>
  </div>
</div>
